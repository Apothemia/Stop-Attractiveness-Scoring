<!DOCTYPE html>
<html>
<head>
    <title>BART Stations</title>
    <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
        #map {
            height: 100vh;
        }
    </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const map = L.map("map").setView([37.77, -122.42], 10);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "Â© OpenStreetMap contributors"
    }).addTo(map);

    fetch("/api/stations/")
        .then(res => res.json())
        .then(stations => {
            stations.forEach(s => {
                L.marker([s.lat, s.lon])
                    .addTo(map)
                    .bindPopup(`<b>${s.name}</b><br>${s.code}`);
            });
        });
</script>

</body>
</html>
